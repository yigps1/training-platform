{"ast":null,"code":"var _jsxFileName = \"/Users/todordimitrov/training-platform/client/src/components/TrainingDetailsModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport format from \"date-fns/format\";\nimport addDays from \"date-fns/addDays\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TrainingDetailsForm({\n  traineeName,\n  startDate,\n  endDate,\n  onSave\n}) {\n  _s();\n  const [details, setDetails] = useState({});\n  useEffect(() => {\n    if (!traineeName) {\n      setDetails({});\n      return;\n    }\n    const saved = localStorage.getItem(`training_details_${traineeName.toLowerCase()}`);\n    if (saved) {\n      try {\n        setDetails(JSON.parse(saved));\n      } catch (e) {\n        console.warn(\"Failed to parse training details:\", e);\n        setDetails({});\n      }\n    } else {\n      setDetails({});\n    }\n  }, [traineeName]);\n  const dates = useMemo(() => {\n    if (!startDate || !endDate) return [];\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    const datesArr = [];\n    for (let d = start; d <= end; d = addDays(d, 1)) {\n      datesArr.push(new Date(d));\n    }\n    return datesArr;\n  }, [startDate, endDate]);\n  if (!traineeName || !startDate || !endDate) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Please select a trainee and training period.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 54\n  }, this);\n  const handleChange = (dateStr, field, value) => {\n    setDetails(prev => ({\n      ...prev,\n      [dateStr]: {\n        ...prev[dateStr],\n        [field]: value\n      }\n    }));\n  };\n  const handleSave = () => {\n    localStorage.setItem(`training_details_${traineeName.toLowerCase()}`, JSON.stringify(details));\n    if (typeof onSave === \"function\") onSave(details);\n    alert(\"Training details saved.\");\n  };\n  const handleReset = () => {\n    if (window.confirm(\"Are you sure you want to clear all training details for this trainee?\")) {\n      setDetails({});\n      localStorage.removeItem(`training_details_${traineeName.toLowerCase()}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      border: \"1px solid #ccc\",\n      padding: 15,\n      borderRadius: 8,\n      maxHeight: \"60vh\",\n      overflowY: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Training Details for \", traineeName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), dates.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No training dates available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 30\n    }, this), dates.map(date => {\n      const dateStr = format(date, \"yyyy-MM-dd\");\n      const dayDetails = details[dateStr] || {};\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 15,\n          borderBottom: \"1px solid #ddd\",\n          paddingBottom: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: format(date, \"dd/MM/yyyy\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 5\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: `topic-${dateStr}`,\n            children: [\"Topic:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: `topic-${dateStr}`,\n              type: \"text\",\n              value: dayDetails.topic || \"\",\n              onChange: e => handleChange(dateStr, \"topic\", e.target.value),\n              style: {\n                width: \"100%\"\n              },\n              \"aria-label\": `Topic for ${format(date, \"dd/MM/yyyy\")}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 5\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: `notes-${dateStr}`,\n            children: [\"Notes:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: `notes-${dateStr}`,\n              value: dayDetails.notes || \"\",\n              onChange: e => handleChange(dateStr, \"notes\", e.target.value),\n              rows: 3,\n              style: {\n                width: \"100%\"\n              },\n              \"aria-label\": `Notes for ${format(date, \"dd/MM/yyyy\")}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, dateStr, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"right\",\n        marginTop: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        style: {\n          marginRight: 10,\n          cursor: \"pointer\"\n        },\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleReset,\n        style: {\n          cursor: \"pointer\"\n        },\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(TrainingDetailsForm, \"79FW4fBodJzhzaPDcMWhd2dLQr4=\");\n_c = TrainingDetailsForm;\nvar _c;\n$RefreshReg$(_c, \"TrainingDetailsForm\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","format","addDays","jsxDEV","_jsxDEV","TrainingDetailsForm","traineeName","startDate","endDate","onSave","_s","details","setDetails","saved","localStorage","getItem","toLowerCase","JSON","parse","e","console","warn","dates","start","Date","end","datesArr","d","push","children","fileName","_jsxFileName","lineNumber","columnNumber","handleChange","dateStr","field","value","prev","handleSave","setItem","stringify","alert","handleReset","window","confirm","removeItem","style","border","padding","borderRadius","maxHeight","overflowY","length","map","date","dayDetails","marginBottom","borderBottom","paddingBottom","marginTop","htmlFor","id","type","topic","onChange","target","width","notes","rows","textAlign","onClick","marginRight","cursor","_c","$RefreshReg$"],"sources":["/Users/todordimitrov/training-platform/client/src/components/TrainingDetailsModal.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport format from \"date-fns/format\";\nimport addDays from \"date-fns/addDays\";\n\nexport default function TrainingDetailsForm({ traineeName, startDate, endDate, onSave }) {\n  const [details, setDetails] = useState({});\n\n  useEffect(() => {\n    if (!traineeName) {\n      setDetails({});\n      return;\n    }\n\n    const saved = localStorage.getItem(`training_details_${traineeName.toLowerCase()}`);\n    if (saved) {\n      try {\n        setDetails(JSON.parse(saved));\n      } catch (e) {\n        console.warn(\"Failed to parse training details:\", e);\n        setDetails({});\n      }\n    } else {\n      setDetails({});\n    }\n  }, [traineeName]);\n\n  const dates = useMemo(() => {\n    if (!startDate || !endDate) return [];\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    const datesArr = [];\n    for (let d = start; d <= end; d = addDays(d, 1)) {\n      datesArr.push(new Date(d));\n    }\n    return datesArr;\n  }, [startDate, endDate]);\n\n  if (!traineeName || !startDate || !endDate) return <p>Please select a trainee and training period.</p>;\n\n  const handleChange = (dateStr, field, value) => {\n    setDetails((prev) => ({\n      ...prev,\n      [dateStr]: {\n        ...prev[dateStr],\n        [field]: value,\n      },\n    }));\n  };\n\n  const handleSave = () => {\n    localStorage.setItem(`training_details_${traineeName.toLowerCase()}`, JSON.stringify(details));\n    if (typeof onSave === \"function\") onSave(details);\n    alert(\"Training details saved.\");\n  };\n\n  const handleReset = () => {\n    if (window.confirm(\"Are you sure you want to clear all training details for this trainee?\")) {\n      setDetails({});\n      localStorage.removeItem(`training_details_${traineeName.toLowerCase()}`);\n    }\n  };\n\n  return (\n    <div style={{ border: \"1px solid #ccc\", padding: 15, borderRadius: 8, maxHeight: \"60vh\", overflowY: \"auto\" }}>\n      <h3>Training Details for {traineeName}</h3>\n\n      {dates.length === 0 && <p>No training dates available.</p>}\n\n      {dates.map((date) => {\n        const dateStr = format(date, \"yyyy-MM-dd\");\n        const dayDetails = details[dateStr] || {};\n        return (\n          <div key={dateStr} style={{ marginBottom: 15, borderBottom: \"1px solid #ddd\", paddingBottom: 10 }}>\n            <strong>{format(date, \"dd/MM/yyyy\")}</strong>\n            <div style={{ marginTop: 5 }}>\n              <label htmlFor={`topic-${dateStr}`}>\n                Topic:<br />\n                <input\n                  id={`topic-${dateStr}`}\n                  type=\"text\"\n                  value={dayDetails.topic || \"\"}\n                  onChange={(e) => handleChange(dateStr, \"topic\", e.target.value)}\n                  style={{ width: \"100%\" }}\n                  aria-label={`Topic for ${format(date, \"dd/MM/yyyy\")}`}\n                />\n              </label>\n            </div>\n            <div style={{ marginTop: 5 }}>\n              <label htmlFor={`notes-${dateStr}`}>\n                Notes:<br />\n                <textarea\n                  id={`notes-${dateStr}`}\n                  value={dayDetails.notes || \"\"}\n                  onChange={(e) => handleChange(dateStr, \"notes\", e.target.value)}\n                  rows={3}\n                  style={{ width: \"100%\" }}\n                  aria-label={`Notes for ${format(date, \"dd/MM/yyyy\")}`}\n                />\n              </label>\n            </div>\n          </div>\n        );\n      })}\n\n      <div style={{ textAlign: \"right\", marginTop: 10 }}>\n        <button onClick={handleSave} style={{ marginRight: 10, cursor: \"pointer\" }}>\n          Save\n        </button>\n        <button onClick={handleReset} style={{ cursor: \"pointer\" }}>\n          Reset\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}